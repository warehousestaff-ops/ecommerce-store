<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Order Confirmed &mdash; Store.</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .confirm-page {
      max-width: 640px;
      margin: 4rem auto 6rem;
      padding: 0 2.5rem;
    }

    .confirm-icon {
      width: 64px;
      height: 64px;
      background: var(--black);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .confirm-icon svg {
      width: 28px;
      height: 28px;
      stroke: var(--white);
      fill: none;
      stroke-width: 2.5;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .confirm-page h1 {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -0.04em;
      margin-bottom: 0.5rem;
    }

    .confirm-page > p {
      color: var(--gray-600);
      font-size: 0.9rem;
      margin-bottom: 2.5rem;
      line-height: 1.7;
    }

    .order-card {
      background: var(--gray-50);
      border: 1.5px solid var(--border);
      border-radius: 4px;
      padding: 1.75rem;
      margin-bottom: 2rem;
    }

    .order-card-title {
      font-weight: 700;
      font-size: 0.82rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 1.25rem;
      color: var(--gray-600);
    }

    .order-meta {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .order-meta-item label {
      display: block;
      font-size: 0.68rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--gray-400);
      margin-bottom: 0.2rem;
    }

    .order-meta-item span {
      font-size: 0.88rem;
      font-weight: 500;
    }

    .order-items {
      border-top: 1px solid var(--border);
      padding-top: 1.25rem;
    }

    .order-item-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.88rem;
      padding: 0.35rem 0;
      color: var(--gray-600);
    }

    .order-item-row.total-row {
      font-weight: 700;
      color: var(--black);
      font-size: 0.95rem;
      border-top: 1px solid var(--border);
      margin-top: 0.5rem;
      padding-top: 0.75rem;
    }

    .confirm-btns {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    @media (max-width: 540px) {
      .confirm-page { margin: 2.5rem auto 4rem; padding: 0 1.25rem; }
      .order-meta { grid-template-columns: 1fr; }
      .confirm-btns { flex-direction: column; }
      .confirm-btns .btn { text-align: center; }
    }
  </style>
</head>
<body>

  <nav>
    <a href="index.html" class="nav-logo">Store<span>.</span></a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="products.html">Products</a></li>
      <li><a href="reviews.html">Reviews</a></li>
    </ul>
    <div class="nav-right">
      <a href="cart.html" class="cart-link" aria-label="Cart">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
        <span class="cart-badge" id="cartBadge"></span>
      </a>
      <button class="nav-hamburger" id="hamburger" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </nav>

  <div class="nav-mobile" id="navMobile">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="products.html">Products</a></li>
      <li><a href="reviews.html">Reviews</a></li>
      <li><a href="cart.html">Cart</a></li>
    </ul>
  </div>

  <div class="confirm-page" id="confirmPage">
    <div class="confirm-icon">
      <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
    </div>
    <h1>Order Confirmed!</h1>
    <p>Thank you for your order. We&rsquo;ll get it packed and on its way to you as soon as possible. A confirmation email has been sent to your address.</p>

    <div class="order-card" id="orderCard"></div>

    <div class="confirm-btns">
      <a href="products.html" class="btn btn-primary">Continue Shopping</a>
      <a href="index.html" class="btn btn-outline">Back to Home</a>
    </div>
  </div>

  <footer>
    <div class="footer-logo">Store<span>.</span></div>
    <div class="footer-copy">&copy; 2026 Store. All rights reserved.</div>
  </footer>

  <script>
    function loadCart() {
      try { return JSON.parse(localStorage.getItem('ec_cart') || '[]'); } catch(e) { return []; }
    }

    function updateBadge() {
      var count = loadCart().reduce(function(s,i) { return s + i.quantity; }, 0);
      var b = document.getElementById('cartBadge');
      if (b) { b.textContent = count; b.style.display = count > 0 ? 'flex' : 'none'; }
    }

    function renderConfirmation() {
      var order = null;
      try { order = JSON.parse(localStorage.getItem('ec_last_order')); } catch(e) {}

      if (!order) {
        document.getElementById('confirmPage').innerHTML =
          '<div class="empty-state"><div class="empty-icon">&#128722;</div><h3>No order found</h3><p>It looks like you haven\'t placed an order yet.</p><a href="products.html" class="btn btn-primary">Browse Products</a></div>';
        return;
      }

      var itemsHTML = order.items.map(function(i) {
        return '<div class="order-item-row"><span>' + i.name + ' &times; ' + i.quantity + '</span><span>&pound;' + (i.price * i.quantity).toFixed(2) + '</span></div>';
      }).join('');

      itemsHTML += '<div class="order-item-row"><span>Delivery</span><span>' + (order.delivery === 0 ? 'Free' : '&pound;' + order.delivery.toFixed(2)) + '</span></div>';
      itemsHTML += '<div class="order-item-row total-row"><span>Total</span><span>&pound;' + order.total.toFixed(2) + '</span></div>';

      document.getElementById('orderCard').innerHTML =
        '<div class="order-card-title">Order Details</div>' +
        '<div class="order-meta">' +
          '<div class="order-meta-item"><label>Order ID</label><span>#' + order.id.slice(-6) + '</span></div>' +
          '<div class="order-meta-item"><label>Date</label><span>' + order.date + '</span></div>' +
          '<div class="order-meta-item"><label>Customer</label><span>' + order.name + '</span></div>' +
          '<div class="order-meta-item"><label>Email</label><span>' + order.email + '</span></div>' +
          '<div class="order-meta-item" style="grid-column:1/-1"><label>Deliver to</label><span>' + order.address + '</span></div>' +
        '</div>' +
        '<div class="order-items">' + itemsHTML + '</div>';
    }

    document.getElementById('hamburger').addEventListener('click', function() {
      document.getElementById('navMobile').classList.toggle('open');
    });

    updateBadge();
    renderConfirmation();
  </script>
</body>
</html>
